=====================Start------of-------Log==================
TRACE-> 2018-01-23 10:06:07,813 core.tcp.TcpServerActor - starting TCP Server
TRACE-> 2018-01-23 10:06:07,828 core.tcp.TcpServerActor - Server Status: Bound(/192.168.0.181:40001)
TRACE-> 2018-01-23 10:06:27,055 core.tcp.TcpServerActor - Server :Connected(/192.168.0.181:50903,/192.168.0.181:40001)
TRACE-> 2018-01-23 10:06:47,723 core.tcp.TcpServerActor - Server :Connected(/192.168.0.181:50906,/192.168.0.181:40001)
INFO -> 2018-01-23 10:06:55,003 core.tcp.TcpConnectionHandlerActor - received-tcp: {"printFlag":"1","messageCode":"P","amount":"1","terminalIp":"192.168.0.137","statusMessageIp":null,"GTbit":"0","statusMessagePort":null,"terminalPort":"40001","GTmessage":null}
TRACE-> 2018-01-23 10:06:55,331 core.tcp.TcpConnectionHandlerActor - VALIDATION PASSED------> 1
TRACE-> 2018-01-23 10:06:55,331 core.tcp.TcpConnectionHandlerActor - VALIDATION PASSED------> 2
TRACE-> 2018-01-23 10:06:55,331 core.tcp.TcpConnectionHandlerActor - VALIDATION PASSED------> 3
TRACE-> 2018-01-23 10:06:55,331 core.tcp.TcpConnectionHandlerActor - Incoming Json Validated..!
DEBUG-> 2018-01-23 10:06:55,348 core.tcp.TcpConnectionHandlerActor - SETTING RECEIVE TIMEOUT OF 95 SEC
TRACE-> 2018-01-23 10:06:55,348 app_main.IPS_Link - =============================START---OF---LOG================================
INFO -> 2018-01-23 10:06:55,348 app_main.IPS_Link - setting Up Tcp Connection type
INFO -> 2018-01-23 10:06:55,348 core.StatusMessageSender - using same channel for StatusMessages and Receipt
TRACE-> 2018-01-23 10:06:55,348 core.StatusMessageSender - starting StatusMessageSender Actor
INFO -> 2018-01-23 10:06:55,348 protocol37.ReceiptGenerator - starting Receipt Generator
TRACE-> 2018-01-23 10:06:55,348 core.tcp.TcpClientActor - starting TCP Client
INFO -> 2018-01-23 10:06:55,348 core.tcp.TcpClientActor - starting handler
TRACE-> 2018-01-23 10:06:55,348 app_main.IPS_Link - Starting IPS_LINK ACTOR
INFO -> 2018-01-23 10:06:55,364 core.tcp.TcpClientActor - Starting TCP client Actor
INFO -> 2018-01-23 10:06:55,386 core.tcp.TcpClientActor - connected :Connected(/192.168.0.137:40001,/192.168.0.181:50907)
INFO -> 2018-01-23 10:06:55,387 core.tcp.TcpClientActor - ackReceived set to allow first message to be sent through tcp
INFO -> 2018-01-23 10:06:55,850 core.tcp.TcpConnectionHandlerActor - sending out ACK to /192.168.0.181:50906 : b
INFO -> 2018-01-23 10:06:55,849 app_main.IPS_Link - received PAYMENT REQUEST-> sending ACK
INFO -> 2018-01-23 10:06:55,851 app_main.IPS_Link - setting printing details to terminal with flag: 1
INFO -> 2018-01-23 10:06:55,852 app_main.IPS_Link - starting "PAYMENT" function
INFO -> 2018-01-23 10:06:55,852 core.tcp.TcpClientActor - sent E msg: 000000000E1:
INFO -> 2018-01-23 10:06:55,862 core.tcp.TcpClientActor - setting ackReceived to false in order to wait for ack before next msg is sent
ERROR-> 2018-01-23 10:06:55,862 core.tcp.TcpClientActor - havent received ack for last msg sent so cannot send: 000000000P000000000000000000001                                                                                                                                00000000/
DEBUG-> 2018-01-23 10:06:55,862 core.tcp.TcpClientActor - retrying to send same msg
INFO -> 2018-01-23 10:06:55,902 core.tcp.TcpClientActor - ACK
INFO -> 2018-01-23 10:06:55,902 core.tcp.TcpClientActor - setting ackReceived to TRUE as ACK received 
INFO -> 2018-01-23 10:06:55,902 core.tcp.TcpClientActor - sent Application msg: at cycle: 195 -> 000000000P000000000000000000001                                                                                                                                00000000/
INFO -> 2018-01-23 10:06:56,021 core.tcp.TcpClientActor - ACK
INFO -> 2018-01-23 10:06:56,027 core.tcp.TcpClientActor - setting ackReceived to TRUE as ACK received 
INFO -> 2018-01-23 10:06:56,172 protocol37.Protocol37ReadWriteHandler - Forwarding Status Message: INSERT CARD         
INFO -> 2018-01-23 10:06:56,172 core.StatusMessageSender - sending status message :$INSERT CARD         $
INFO -> 2018-01-23 10:06:56,172 core.tcp.TcpConnectionHandlerActor - sending out statusMessage to /192.168.0.181:50906
INFO -> 2018-01-23 10:06:58,467 protocol37.Protocol37ReadWriteHandler - Forwarding Status Message: CARD REMOVED        
INFO -> 2018-01-23 10:06:58,468 core.StatusMessageSender - sending status message :$CARD REMOVED        $
INFO -> 2018-01-23 10:06:58,468 core.tcp.TcpConnectionHandlerActor - sending out statusMessage to /192.168.0.181:50906
INFO -> 2018-01-23 10:06:58,534 protocol37.Protocol37ReadWriteHandler - Forwarding Status Message: TRANSACTION CANCELLED
INFO -> 2018-01-23 10:06:58,534 core.StatusMessageSender - sending status message :$TRANSACTION CANCELLED$
INFO -> 2018-01-23 10:06:58,552 core.tcp.TcpConnectionHandlerActor - sending out statusMessage to /192.168.0.181:50906
INFO -> 2018-01-23 10:06:58,651 protocol37.Protocol37ReadWriteHandler - Validating Received message calculating LRC
INFO -> 2018-01-23 10:06:58,654 protocol37.Protocol37ReadWriteHandler - STX ETX FOUND in message
INFO -> 2018-01-23 10:06:58,654 protocol37.Protocol37ReadWriteHandler - Validated -> matched LRC
INFO -> 2018-01-23 10:06:58,654 protocol37.Protocol37ReadWriteHandler - Result: 100000340E01TRANSACTION CANCELLED   00000000000000000000000000000000000607
INFO -> 2018-01-23 10:06:58,654 core.tcp.TcpClientActor - sent ack: z
INFO -> 2018-01-23 10:06:58,739 protocol37.Protocol37ReadWriteHandler - Validating Received message calculating LRC
INFO -> 2018-01-23 10:06:58,739 protocol37.Protocol37ReadWriteHandler - STX ETX FOUND in message
INFO -> 2018-01-23 10:06:58,739 protocol37.Protocol37ReadWriteHandler - Validated -> matched LRC
INFO -> 2018-01-23 10:06:58,739 protocol37.Protocol37ReadWriteHandler - Result: 100000340STML             10000034Date 23 / 01 / 18  HR 10STAN 000000                                     ========================  TRANS. NOT COMPLETED  ========================}}
INFO -> 2018-01-23 10:06:58,739 core.tcp.TcpClientActor - sent ack: z
INFO -> 2018-01-23 10:06:58,739 protocol37.ReceiptGenerator - generating receipt...!
TRACE-> 2018-01-23 10:06:58,739 protocol37.ReceiptGenerator - 10000034;00000001;KO;TRANSACTION UNSUCCESSFUL;03;TRANSACTION CANCELLED   ;
TML             10000034
Date 23 / 01 / 18  HR 10
STAN 000000             
                        
========================
  TRANS. NOT COMPLETED  
========================
;
INFO -> 2018-01-23 10:06:58,739 core.tcp.TcpConnectionHandlerActor - sending out FINAL RECEIPT to /192.168.0.181:50906
TRACE-> 2018-01-23 10:06:58,756 core.tcp.TcpConnectionHandlerActor - =============================END---OF---LOG================================
INFO -> 2018-01-23 10:06:58,805 protocol37.ReceiptGenerator - stopping Receipt Generator
TRACE-> 2018-01-23 10:06:58,805 core.StatusMessageSender - Stopping StatusMessageSender Actor
INFO -> 2018-01-23 10:06:58,807 core.tcp.TcpClientActor - Stopping TCP client Actor
INFO -> 2018-01-23 10:06:58,812 app_main.IPS_Link - Stopping IPS_LINK ACTOR
DEBUG-> 2018-01-23 10:07:12,289 core.tcp.TcpConnectionHandlerActor - Server: Connection ClosureErrorClosed(An existing connection was forcibly closed by the remote host)
DEBUG-> 2018-01-23 10:07:14,723 core.tcp.TcpConnectionHandlerActor - Server: Connection ClosureErrorClosed(An existing connection was forcibly closed by the remote host)
TRACE-> 2018-01-23 10:07:52,331 core.tcp.TcpServerActor - Server :Connected(/192.168.0.181:50917,/192.168.0.181:40001)
INFO -> 2018-01-23 10:07:57,967 core.tcp.TcpConnectionHandlerActor - received-tcp: {"printFlag":"1","messageCode":"D","amount":null,"terminalIp":"192.168.0.160","statusMessageIp":null,"GTbit":null,"statusMessagePort":null,"terminalPort":"40001","GTmessage":null}
TRACE-> 2018-01-23 10:07:57,969 core.tcp.TcpConnectionHandlerActor - VALIDATION PASSED------> 1
TRACE-> 2018-01-23 10:07:57,969 core.tcp.TcpConnectionHandlerActor - VALIDATION PASSED------> 2
TRACE-> 2018-01-23 10:07:57,969 core.tcp.TcpConnectionHandlerActor - Incoming Json Validated..!
DEBUG-> 2018-01-23 10:07:57,969 core.tcp.TcpConnectionHandlerActor - SETTING RECEIVE TIMEOUT OF 95 SEC
TRACE-> 2018-01-23 10:07:57,969 app_main.IPS_Link - =============================START---OF---LOG================================
INFO -> 2018-01-23 10:07:57,969 app_main.IPS_Link - setting Up Tcp Connection type
INFO -> 2018-01-23 10:07:57,969 core.StatusMessageSender - using same channel for StatusMessages and Receipt
TRACE-> 2018-01-23 10:07:57,969 core.StatusMessageSender - starting StatusMessageSender Actor
TRACE-> 2018-01-23 10:07:57,969 app_main.IPS_Link - Starting IPS_LINK ACTOR
INFO -> 2018-01-23 10:07:57,969 protocol37.ReceiptGenerator - starting Receipt Generator
TRACE-> 2018-01-23 10:07:57,969 core.tcp.TcpClientActor - starting TCP Client
INFO -> 2018-01-23 10:07:57,969 core.tcp.TcpClientActor - starting handler
INFO -> 2018-01-23 10:07:57,969 core.tcp.TcpClientActor - Starting TCP client Actor
INFO -> 2018-01-23 10:07:58,490 core.tcp.TcpConnectionHandlerActor - sending out ACK to /192.168.0.181:50917 : b
INFO -> 2018-01-23 10:07:58,490 app_main.IPS_Link - received DLL REQUEST-> sending ACK
INFO -> 2018-01-23 10:07:58,491 app_main.IPS_Link - setting printing details to terminal with flag: 1
INFO -> 2018-01-23 10:07:58,492 app_main.IPS_Link - Starting "DLL FUNCTION" with flag: 1
FATAL-> 2018-01-23 10:08:19,013 core.tcp.TcpClientActor - connectin Failed:CommandFailed(Connect(/192.168.0.160:40001,None,List(),None,false)) because of Connection timed out: no further information
INFO -> 2018-01-23 10:08:19,015 core.tcp.TcpConnectionHandlerActor - sending out FAILURE to /192.168.0.181:50917
INFO -> 2018-01-23 10:08:19,026 protocol37.ReceiptGenerator - stopping Receipt Generator
TRACE-> 2018-01-23 10:08:19,026 core.StatusMessageSender - Stopping StatusMessageSender Actor
INFO -> 2018-01-23 10:08:19,031 core.tcp.TcpClientActor - Stopping TCP client Actor
INFO -> 2018-01-23 10:08:19,037 app_main.IPS_Link - Stopping IPS_LINK ACTOR
INFO -> 2018-01-23 10:08:32,951 core.tcp.TcpConnectionHandlerActor - received-tcp: {"printFlag":"1","messageCode":"D","amount":null,"terminalIp":"192.168.0.137","statusMessageIp":null,"GTbit":null,"statusMessagePort":null,"terminalPort":"40001","GTmessage":null}
TRACE-> 2018-01-23 10:08:32,956 core.tcp.TcpConnectionHandlerActor - VALIDATION PASSED------> 1
TRACE-> 2018-01-23 10:08:32,956 core.tcp.TcpConnectionHandlerActor - VALIDATION PASSED------> 2
TRACE-> 2018-01-23 10:08:32,956 core.tcp.TcpConnectionHandlerActor - Incoming Json Validated..!
DEBUG-> 2018-01-23 10:08:32,957 core.tcp.TcpConnectionHandlerActor - SETTING RECEIVE TIMEOUT OF 95 SEC
TRACE-> 2018-01-23 10:08:32,958 app_main.IPS_Link - =============================START---OF---LOG================================
INFO -> 2018-01-23 10:08:32,958 app_main.IPS_Link - setting Up Tcp Connection type
TRACE-> 2018-01-23 10:08:32,961 app_main.IPS_Link - Starting IPS_LINK ACTOR
INFO -> 2018-01-23 10:08:32,964 core.StatusMessageSender - using same channel for StatusMessages and Receipt
TRACE-> 2018-01-23 10:08:32,964 core.StatusMessageSender - starting StatusMessageSender Actor
INFO -> 2018-01-23 10:08:32,965 protocol37.ReceiptGenerator - starting Receipt Generator
TRACE-> 2018-01-23 10:08:32,965 core.tcp.TcpClientActor - starting TCP Client
INFO -> 2018-01-23 10:08:32,966 core.tcp.TcpClientActor - starting handler
INFO -> 2018-01-23 10:08:32,966 core.tcp.TcpClientActor - Starting TCP client Actor
INFO -> 2018-01-23 10:08:32,973 core.tcp.TcpClientActor - connected :Connected(/192.168.0.137:40001,/192.168.0.181:50921)
INFO -> 2018-01-23 10:08:32,974 core.tcp.TcpClientActor - ackReceived set to allow first message to be sent through tcp
INFO -> 2018-01-23 10:08:33,472 core.tcp.TcpConnectionHandlerActor - sending out ACK to /192.168.0.181:50917 : b
INFO -> 2018-01-23 10:08:33,472 app_main.IPS_Link - received DLL REQUEST-> sending ACK
INFO -> 2018-01-23 10:08:33,473 app_main.IPS_Link - setting printing details to terminal with flag: 1
INFO -> 2018-01-23 10:08:33,476 core.tcp.TcpClientActor - sent E msg: 000000000E1:
INFO -> 2018-01-23 10:08:33,481 core.tcp.TcpClientActor - setting ackReceived to false in order to wait for ack before next msg is sent
INFO -> 2018-01-23 10:08:33,482 app_main.IPS_Link - Starting "DLL FUNCTION" with flag: 1
ERROR-> 2018-01-23 10:08:33,482 core.tcp.TcpClientActor - havent received ack for last msg sent so cannot send: 000000000D00000010000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
DEBUG-> 2018-01-23 10:08:33,482 core.tcp.TcpClientActor - retrying to send same msg
INFO -> 2018-01-23 10:08:33,586 core.tcp.TcpClientActor - ACK
INFO -> 2018-01-23 10:08:33,586 core.tcp.TcpClientActor - setting ackReceived to TRUE as ACK received 
INFO -> 2018-01-23 10:08:33,586 core.tcp.TcpClientActor - sent Application msg: at cycle: 3264 -> 000000000D00000010000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
INFO -> 2018-01-23 10:08:33,801 core.tcp.TcpClientActor - ACK
INFO -> 2018-01-23 10:08:33,801 core.tcp.TcpClientActor - setting ackReceived to TRUE as ACK received 
INFO -> 2018-01-23 10:08:33,802 protocol37.Protocol37ReadWriteHandler - Forwarding Status Message: OPERATION IN PROGRESS
INFO -> 2018-01-23 10:08:33,802 core.StatusMessageSender - sending status message :$OPERATION IN PROGRESS$
INFO -> 2018-01-23 10:08:33,802 core.tcp.TcpConnectionHandlerActor - sending out statusMessage to /192.168.0.181:50917
INFO -> 2018-01-23 10:08:34,210 protocol37.Protocol37ReadWriteHandler - Forwarding Status Message: AUTH IN PROGRESS    
INFO -> 2018-01-23 10:08:34,211 core.StatusMessageSender - sending status message :$AUTH IN PROGRESS    $
INFO -> 2018-01-23 10:08:34,212 core.tcp.TcpConnectionHandlerActor - sending out statusMessage to /192.168.0.181:50917
INFO -> 2018-01-23 10:08:56,420 protocol37.Protocol37ReadWriteHandler - Forwarding Status Message: TRANSACTION COMPLETE
INFO -> 2018-01-23 10:08:56,420 core.StatusMessageSender - sending status message :$TRANSACTION COMPLETE$
INFO -> 2018-01-23 10:08:56,432 core.tcp.TcpConnectionHandlerActor - sending out statusMessage to /192.168.0.181:50917
INFO -> 2018-01-23 10:08:57,548 protocol37.Protocol37ReadWriteHandler - Validating Received message calculating LRC
INFO -> 2018-01-23 10:08:57,548 protocol37.Protocol37ReadWriteHandler - STX ETX FOUND in message
INFO -> 2018-01-23 10:08:57,558 protocol37.Protocol37ReadWriteHandler - Validated -> matched LRC
INFO -> 2018-01-23 10:08:57,559 protocol37.Protocol37ReadWriteHandler - Result: 100000340D0000000100002202310080000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
INFO -> 2018-01-23 10:08:57,559 core.tcp.TcpClientActor - sent ack: z
INFO -> 2018-01-23 10:08:57,617 protocol37.Protocol37ReadWriteHandler - Validating Received message calculating LRC
INFO -> 2018-01-23 10:08:57,617 protocol37.Protocol37ReadWriteHandler - STX ETX FOUND in message
INFO -> 2018-01-23 10:08:57,617 protocol37.Protocol37ReadWriteHandler - Validated -> matched LRC
INFO -> 2018-01-23 10:08:57,617 protocol37.Protocol37ReadWriteHandler - Result: 100000340S     DLL PARAMETERS          Dhanapal TEST               Slough                                 Date 23/01/18 Time 10:08TML 10000034 STAN 000001CAUSA
INFO -> 2018-01-23 10:08:57,617 core.tcp.TcpClientActor - sent ack: z
INFO -> 2018-01-23 10:08:57,719 protocol37.Protocol37ReadWriteHandler - Validating Received message calculating LRC
INFO -> 2018-01-23 10:08:57,719 protocol37.Protocol37ReadWriteHandler - STX ETX FOUND in message
INFO -> 2018-01-23 10:08:57,719 protocol37.Protocol37ReadWriteHandler - Validated -> matched LRC
INFO -> 2018-01-23 10:08:57,719 protocol37.Protocol37ReadWriteHandler - Result: 100000340SL  860 N.OP. 000021Authenticat. -Phase1  OKConferm. Keys-Phase2  OKConferment   PKCA     OKConferment   PAR.TEC  OKConferment   PAR.ACQ  OK           
INFO -> 2018-01-23 10:08:57,719 core.tcp.TcpClientActor - sent ack: z
INFO -> 2018-01-23 10:08:57,819 protocol37.Protocol37ReadWriteHandler - Validating Received message calculating LRC
INFO -> 2018-01-23 10:08:57,819 protocol37.Protocol37ReadWriteHandler - STX ETX FOUND in message
INFO -> 2018-01-23 10:08:57,819 protocol37.Protocol37ReadWriteHandler - Validated -> matched LRC
INFO -> 2018-01-23 10:08:57,819 protocol37.Protocol37ReadWriteHandler - Result: 100000340S                  CARDS HANDLED      Elavon                                            OPERATION SUCCEEDED                                  ATTENTION
INFO -> 2018-01-23 10:08:57,819 core.tcp.TcpClientActor - sent ack: z
INFO -> 2018-01-23 10:08:57,930 protocol37.Protocol37ReadWriteHandler - Validating Received message calculating LRC
INFO -> 2018-01-23 10:08:57,931 protocol37.Protocol37ReadWriteHandler - STX ETX FOUND in message
INFO -> 2018-01-23 10:08:57,931 protocol37.Protocol37ReadWriteHandler - Validated -> matched LRC
INFO -> 2018-01-23 10:08:57,931 protocol37.Protocol37ReadWriteHandler - Result: 100000340S        We inform you that      the following new cards are enabled on your POS                         ========================Elavon                
INFO -> 2018-01-23 10:08:57,931 core.tcp.TcpClientActor - sent ack: z
INFO -> 2018-01-23 10:08:58,019 protocol37.Protocol37ReadWriteHandler - Validating Received message calculating LRC
INFO -> 2018-01-23 10:08:58,032 protocol37.Protocol37ReadWriteHandler - STX ETX FOUND in message
INFO -> 2018-01-23 10:08:58,033 protocol37.Protocol37ReadWriteHandler - Validated -> matched LRC
INFO -> 2018-01-23 10:08:58,033 protocol37.Protocol37ReadWriteHandler - Result: 100000340S  ========================}}
INFO -> 2018-01-23 10:08:58,033 core.tcp.TcpClientActor - sent ack: z
INFO -> 2018-01-23 10:08:58,034 protocol37.ReceiptGenerator - generating receipt...!
TRACE-> 2018-01-23 10:08:58,034 protocol37.ReceiptGenerator - 10000034;OK;Successful;0231008
     DLL PARAMETERS     
     Dhanapal TEST      
         Slough         
                        
Date 23/01/18 Time 10:08
TML 10000034 STAN 000001
CAUSAL  860 N.OP. 000021
Authenticat. -Phase1  OK
Conferm. Keys-Phase2  OK
Conferment   PKCA     OK
Conferment   PAR.TEC  OK
Conferment   PAR.ACQ  OK
                        
     CARDS HANDLED      
Elavon                  
                        
  OPERATION SUCCEEDED   
                        
       ATTENTION        
We inform you that      
the following new cards 
are enabled on your POS 
                        
========================
Elavon                  
========================
;
INFO -> 2018-01-23 10:08:58,034 core.tcp.TcpConnectionHandlerActor - sending out FINAL RECEIPT to /192.168.0.181:50917
TRACE-> 2018-01-23 10:08:58,034 core.tcp.TcpConnectionHandlerActor - =============================END---OF---LOG================================
INFO -> 2018-01-23 10:08:58,034 protocol37.ReceiptGenerator - stopping Receipt Generator
TRACE-> 2018-01-23 10:08:58,034 core.StatusMessageSender - Stopping StatusMessageSender Actor
INFO -> 2018-01-23 10:08:58,045 core.tcp.TcpClientActor - Stopping TCP client Actor
INFO -> 2018-01-23 10:08:58,046 app_main.IPS_Link - Stopping IPS_LINK ACTOR
DEBUG-> 2018-01-23 10:09:01,835 core.tcp.TcpConnectionHandlerActor - Server: Connection ClosureErrorClosed(An existing connection was forcibly closed by the remote host)
TRACE-> 2018-01-23 11:08:26,010 core.tcp.TcpServerActor - starting TCP Server
TRACE-> 2018-01-23 11:08:26,049 core.tcp.TcpServerActor - Server Status: Bound(/192.168.0.181:40001)
TRACE-> 2018-01-23 11:08:40,325 core.tcp.TcpServerActor - Server :Connected(/192.168.0.181:52370,/192.168.0.181:40001)
INFO -> 2018-01-23 11:08:49,011 core.tcp.TcpConnectionHandlerActor - received-tcp: {"printFlag":"1","messageCode":"P","amount":"1","terminalIp":"192.168.0.137","statusMessageIp":null,"GTbit":"0","statusMessagePort":null,"terminalPort":"40001","GTmessage":null}
TRACE-> 2018-01-23 11:08:49,384 core.tcp.TcpConnectionHandlerActor - VALIDATION PASSED------> 1
TRACE-> 2018-01-23 11:08:49,384 core.tcp.TcpConnectionHandlerActor - VALIDATION PASSED------> 2
TRACE-> 2018-01-23 11:08:49,385 core.tcp.TcpConnectionHandlerActor - VALIDATION PASSED------> 3
TRACE-> 2018-01-23 11:08:49,385 core.tcp.TcpConnectionHandlerActor - Incoming Json Validated..!
TRACE-> 2018-01-23 11:08:49,403 app_main.IPS_Link - =============================START---OF---LOG================================
DEBUG-> 2018-01-23 11:08:49,402 core.tcp.TcpConnectionHandlerActor - SETTING RECEIVE TIMEOUT OF 95 SEC
INFO -> 2018-01-23 11:08:49,403 app_main.IPS_Link - setting Up Tcp Connection type
INFO -> 2018-01-23 11:08:49,416 core.StatusMessageSender - using same channel for StatusMessages and Receipt
TRACE-> 2018-01-23 11:08:49,417 core.StatusMessageSender - starting StatusMessageSender Actor
INFO -> 2018-01-23 11:08:49,428 protocol37.ReceiptGenerator - starting Receipt Generator
TRACE-> 2018-01-23 11:08:49,440 core.tcp.TcpClientActor - starting TCP Client
INFO -> 2018-01-23 11:08:49,442 core.tcp.TcpClientActor - starting handler
TRACE-> 2018-01-23 11:08:49,443 app_main.IPS_Link - Starting IPS_LINK ACTOR
INFO -> 2018-01-23 11:08:49,461 core.tcp.TcpClientActor - Starting TCP client Actor
INFO -> 2018-01-23 11:08:49,515 core.tcp.TcpClientActor - connected :Connected(/192.168.0.137:40001,/192.168.0.181:52371)
INFO -> 2018-01-23 11:08:49,517 core.tcp.TcpClientActor - ackReceived set to allow first message to be sent through tcp
INFO -> 2018-01-23 11:08:49,945 core.tcp.TcpConnectionHandlerActor - sending out ACK to /192.168.0.181:52370 : b
INFO -> 2018-01-23 11:08:49,945 app_main.IPS_Link - received PAYMENT REQUEST-> sending ACK
INFO -> 2018-01-23 11:08:49,945 app_main.IPS_Link - setting printing details to terminal with flag: 1
INFO -> 2018-01-23 11:08:50,009 app_main.IPS_Link - starting "PAYMENT" function
INFO -> 2018-01-23 11:08:50,009 core.tcp.TcpClientActor - sent E msg: 000000000E1:
INFO -> 2018-01-23 11:08:50,009 core.tcp.TcpClientActor - setting ackReceived to false in order to wait for ack before next msg is sent
ERROR-> 2018-01-23 11:08:50,009 core.tcp.TcpClientActor - havent received ack for last msg sent so cannot send: 000000000P000000000000000000001                                                                                                                                00000000/
DEBUG-> 2018-01-23 11:08:50,009 core.tcp.TcpClientActor - retrying to send same msg
INFO -> 2018-01-23 11:08:50,088 core.tcp.TcpClientActor - ACK
INFO -> 2018-01-23 11:08:50,089 core.tcp.TcpClientActor - setting ackReceived to TRUE as ACK received 
INFO -> 2018-01-23 11:08:50,090 core.tcp.TcpClientActor - sent Application msg: at cycle: 655 -> 000000000P000000000000000000001                                                                                                                                00000000/
INFO -> 2018-01-23 11:08:50,227 core.tcp.TcpClientActor - ACK
INFO -> 2018-01-23 11:08:50,228 core.tcp.TcpClientActor - setting ackReceived to TRUE as ACK received 
INFO -> 2018-01-23 11:08:50,354 protocol37.Protocol37ReadWriteHandler - Forwarding Status Message: INSERT CARD         
INFO -> 2018-01-23 11:08:50,356 core.StatusMessageSender - sending status message :$INSERT CARD         $
INFO -> 2018-01-23 11:08:50,356 core.tcp.TcpConnectionHandlerActor - sending out statusMessage to /192.168.0.181:52370
INFO -> 2018-01-23 11:08:52,249 protocol37.Protocol37ReadWriteHandler - Forwarding Status Message: CARD REMOVED        
INFO -> 2018-01-23 11:08:52,251 core.StatusMessageSender - sending status message :$CARD REMOVED        $
INFO -> 2018-01-23 11:08:52,252 core.tcp.TcpConnectionHandlerActor - sending out statusMessage to /192.168.0.181:52370
INFO -> 2018-01-23 11:08:52,292 protocol37.Protocol37ReadWriteHandler - Forwarding Status Message: TRANSACTION CANCELLED
INFO -> 2018-01-23 11:08:52,296 core.StatusMessageSender - sending status message :$TRANSACTION CANCELLED$
INFO -> 2018-01-23 11:08:52,297 core.tcp.TcpConnectionHandlerActor - sending out statusMessage to /192.168.0.181:52370
INFO -> 2018-01-23 11:08:52,401 protocol37.Protocol37ReadWriteHandler - Validating Received message calculating LRC
INFO -> 2018-01-23 11:08:52,406 protocol37.Protocol37ReadWriteHandler - STX ETX FOUND in message
INFO -> 2018-01-23 11:08:52,429 protocol37.Protocol37ReadWriteHandler - Validated -> matched LRC
INFO -> 2018-01-23 11:08:52,429 protocol37.Protocol37ReadWriteHandler - Result: 100000340E01TRANSACTION CANCELLED   00000000000000000000000000000000000607
INFO -> 2018-01-23 11:08:52,429 core.tcp.TcpClientActor - sent ack: z
INFO -> 2018-01-23 11:08:52,496 protocol37.Protocol37ReadWriteHandler - Validating Received message calculating LRC
INFO -> 2018-01-23 11:08:52,496 protocol37.Protocol37ReadWriteHandler - STX ETX FOUND in message
INFO -> 2018-01-23 11:08:52,496 protocol37.Protocol37ReadWriteHandler - Validated -> matched LRC
INFO -> 2018-01-23 11:08:52,496 protocol37.Protocol37ReadWriteHandler - Result: 100000340STML             10000034Date 23 / 01 / 18  HR 11STAN 000000                                     ========================  TRANS. NOT COMPLETED  ========================}}
INFO -> 2018-01-23 11:08:52,496 core.tcp.TcpClientActor - sent ack: z
INFO -> 2018-01-23 11:08:52,496 protocol37.ReceiptGenerator - generating receipt...!
TRACE-> 2018-01-23 11:08:52,496 protocol37.ReceiptGenerator - 10000034;00000001;KO;TRANSACTION UNSUCCESSFUL;03;TRANSACTION CANCELLED   ;
TML             10000034
Date 23 / 01 / 18  HR 11
STAN 000000             
                        
========================
  TRANS. NOT COMPLETED  
========================
;
INFO -> 2018-01-23 11:08:52,502 core.tcp.TcpConnectionHandlerActor - sending out FINAL RECEIPT to /192.168.0.181:52370
TRACE-> 2018-01-23 11:08:52,503 core.tcp.TcpConnectionHandlerActor - =============================END---OF---LOG================================
INFO -> 2018-01-23 11:08:52,527 protocol37.ReceiptGenerator - stopping Receipt Generator
TRACE-> 2018-01-23 11:08:52,528 core.StatusMessageSender - Stopping StatusMessageSender Actor
INFO -> 2018-01-23 11:08:52,531 core.tcp.TcpClientActor - Stopping TCP client Actor
INFO -> 2018-01-23 11:08:52,534 app_main.IPS_Link - Stopping IPS_LINK ACTOR
DEBUG-> 2018-01-23 11:09:05,871 core.tcp.TcpConnectionHandlerActor - Server: Connection ClosureErrorClosed(An existing connection was forcibly closed by the remote host)
TRACE-> 2018-01-23 11:09:19,929 core.tcp.TcpServerActor - Server :Connected(/192.168.0.181:52376,/192.168.0.181:40001)
INFO -> 2018-01-23 11:09:25,553 core.tcp.TcpConnectionHandlerActor - received-tcp: {"printFlag":"0","messageCode":"P","amount":"1","terminalIp":"192.168.0.137","statusMessageIp":null,"GTbit":"0","statusMessagePort":null,"terminalPort":"40001","GTmessage":null}
TRACE-> 2018-01-23 11:09:25,561 core.tcp.TcpConnectionHandlerActor - VALIDATION PASSED------> 1
TRACE-> 2018-01-23 11:09:25,562 core.tcp.TcpConnectionHandlerActor - VALIDATION PASSED------> 2
TRACE-> 2018-01-23 11:09:25,563 core.tcp.TcpConnectionHandlerActor - VALIDATION PASSED------> 3
TRACE-> 2018-01-23 11:09:25,565 core.tcp.TcpConnectionHandlerActor - Incoming Json Validated..!
DEBUG-> 2018-01-23 11:09:25,566 core.tcp.TcpConnectionHandlerActor - SETTING RECEIVE TIMEOUT OF 95 SEC
TRACE-> 2018-01-23 11:09:25,566 app_main.IPS_Link - =============================START---OF---LOG================================
INFO -> 2018-01-23 11:09:25,566 app_main.IPS_Link - setting Up Tcp Connection type
INFO -> 2018-01-23 11:09:25,570 core.StatusMessageSender - using same channel for StatusMessages and Receipt
TRACE-> 2018-01-23 11:09:25,570 app_main.IPS_Link - Starting IPS_LINK ACTOR
TRACE-> 2018-01-23 11:09:25,570 core.StatusMessageSender - starting StatusMessageSender Actor
INFO -> 2018-01-23 11:09:25,570 protocol37.ReceiptGenerator - starting Receipt Generator
TRACE-> 2018-01-23 11:09:25,570 core.tcp.TcpClientActor - starting TCP Client
INFO -> 2018-01-23 11:09:25,570 core.tcp.TcpClientActor - starting handler
INFO -> 2018-01-23 11:09:25,574 core.tcp.TcpClientActor - Starting TCP client Actor
INFO -> 2018-01-23 11:09:25,582 core.tcp.TcpClientActor - connected :Connected(/192.168.0.137:40001,/192.168.0.181:52377)
INFO -> 2018-01-23 11:09:25,583 core.tcp.TcpClientActor - ackReceived set to allow first message to be sent through tcp
INFO -> 2018-01-23 11:09:26,071 core.tcp.TcpConnectionHandlerActor - sending out ACK to /192.168.0.181:52376 : b
INFO -> 2018-01-23 11:09:26,071 app_main.IPS_Link - received PAYMENT REQUEST-> sending ACK
INFO -> 2018-01-23 11:09:26,073 app_main.IPS_Link - setting printing details to terminal with flag: 0
INFO -> 2018-01-23 11:09:26,074 app_main.IPS_Link - starting "PAYMENT" function
INFO -> 2018-01-23 11:09:26,083 core.tcp.TcpClientActor - sent E msg: 000000000E0;
INFO -> 2018-01-23 11:09:26,089 core.tcp.TcpClientActor - setting ackReceived to false in order to wait for ack before next msg is sent
ERROR-> 2018-01-23 11:09:26,090 core.tcp.TcpClientActor - havent received ack for last msg sent so cannot send: 000000000P000000000000000000001                                                                                                                                00000000/
DEBUG-> 2018-01-23 11:09:26,090 core.tcp.TcpClientActor - retrying to send same msg
INFO -> 2018-01-23 11:09:26,133 core.tcp.TcpClientActor - ACK
INFO -> 2018-01-23 11:09:26,133 core.tcp.TcpClientActor - setting ackReceived to TRUE as ACK received 
INFO -> 2018-01-23 11:09:26,133 core.tcp.TcpClientActor - sent Application msg: at cycle: 470 -> 000000000P000000000000000000001                                                                                                                                00000000/
INFO -> 2018-01-23 11:09:27,400 protocol37.Protocol37ReadWriteHandler - Validating Received message calculating LRC
ERROR-> 2018-01-23 11:09:27,403 core.tcp.TcpClientActor - havent received ack for last msg sent so cannot send: z
DEBUG-> 2018-01-23 11:09:27,403 core.tcp.TcpClientActor - retrying to send same msg
INFO -> 2018-01-23 11:09:31,083 protocol37.Protocol37ReadWriteHandler - Forwarding Status Message: CARD REMOVED        
INFO -> 2018-01-23 11:09:31,084 protocol37.Protocol37ReadWriteHandler - Forwarding Status Message: TRANSACTION CANCELLED
INFO -> 2018-01-23 11:09:31,085 protocol37.Protocol37ReadWriteHandler - Validating Received message calculating LRC
INFO -> 2018-01-23 11:09:31,084 core.StatusMessageSender - sending status message :$CARD REMOVED        $
INFO -> 2018-01-23 11:09:31,086 core.StatusMessageSender - sending status message :$TRANSACTION CANCELLED$
INFO -> 2018-01-23 11:09:31,086 core.tcp.TcpConnectionHandlerActor - sending out statusMessage to /192.168.0.181:52376
INFO -> 2018-01-23 11:09:31,086 protocol37.Protocol37ReadWriteHandler - STX ETX FOUND in message
INFO -> 2018-01-23 11:09:31,091 protocol37.Protocol37ReadWriteHandler - Validated -> matched LRC
INFO -> 2018-01-23 11:09:31,091 core.tcp.TcpConnectionHandlerActor - sending out statusMessage to /192.168.0.181:52376
INFO -> 2018-01-23 11:09:31,091 core.tcp.TcpClientActor - sent ack: z
INFO -> 2018-01-23 11:09:31,091 protocol37.Protocol37ReadWriteHandler - Result: 100000340E01TRANSACTION CANCELLED   00000000000000000000000000000000000607
INFO -> 2018-01-23 11:09:31,097 protocol37.ReceiptGenerator - generating receipt...!
TRACE-> 2018-01-23 11:09:31,098 protocol37.ReceiptGenerator - 10000034;00000001;KO;TRANSACTION UNSUCCESSFUL;03;TRANSACTION CANCELLED   ;
INFO -> 2018-01-23 11:09:31,098 core.tcp.TcpConnectionHandlerActor - sending out FINAL RECEIPT to /192.168.0.181:52376
INFO -> 2018-01-23 11:09:31,105 protocol37.ReceiptGenerator - stopping Receipt Generator
TRACE-> 2018-01-23 11:09:31,098 core.tcp.TcpConnectionHandlerActor - =============================END---OF---LOG================================
TRACE-> 2018-01-23 11:09:31,106 core.StatusMessageSender - Stopping StatusMessageSender Actor
INFO -> 2018-01-23 11:09:31,106 core.tcp.TcpClientActor - Stopping TCP client Actor
INFO -> 2018-01-23 11:09:31,113 app_main.IPS_Link - Stopping IPS_LINK ACTOR
INFO -> 2018-01-23 11:09:35,481 core.tcp.TcpConnectionHandlerActor - received-tcp: {"printFlag":"0","messageCode":"P","amount":"1","terminalIp":"192.168.0.137","statusMessageIp":null,"GTbit":"0","statusMessagePort":null,"terminalPort":"40001","GTmessage":null}
TRACE-> 2018-01-23 11:09:35,484 core.tcp.TcpConnectionHandlerActor - VALIDATION PASSED------> 1
TRACE-> 2018-01-23 11:09:35,484 core.tcp.TcpConnectionHandlerActor - VALIDATION PASSED------> 2
TRACE-> 2018-01-23 11:09:35,485 core.tcp.TcpConnectionHandlerActor - VALIDATION PASSED------> 3
TRACE-> 2018-01-23 11:09:35,485 core.tcp.TcpConnectionHandlerActor - Incoming Json Validated..!
DEBUG-> 2018-01-23 11:09:35,488 core.tcp.TcpConnectionHandlerActor - SETTING RECEIVE TIMEOUT OF 95 SEC
TRACE-> 2018-01-23 11:09:35,488 app_main.IPS_Link - =============================START---OF---LOG================================
INFO -> 2018-01-23 11:09:35,488 app_main.IPS_Link - setting Up Tcp Connection type
INFO -> 2018-01-23 11:09:35,489 core.StatusMessageSender - using same channel for StatusMessages and Receipt
TRACE-> 2018-01-23 11:09:35,489 app_main.IPS_Link - Starting IPS_LINK ACTOR
TRACE-> 2018-01-23 11:09:35,490 core.StatusMessageSender - starting StatusMessageSender Actor
INFO -> 2018-01-23 11:09:35,490 protocol37.ReceiptGenerator - starting Receipt Generator
TRACE-> 2018-01-23 11:09:35,491 core.tcp.TcpClientActor - starting TCP Client
INFO -> 2018-01-23 11:09:35,491 core.tcp.TcpClientActor - starting handler
INFO -> 2018-01-23 11:09:35,495 core.tcp.TcpClientActor - Starting TCP client Actor
INFO -> 2018-01-23 11:09:35,502 core.tcp.TcpClientActor - connected :Connected(/192.168.0.137:40001,/192.168.0.181:52379)
INFO -> 2018-01-23 11:09:35,504 core.tcp.TcpClientActor - ackReceived set to allow first message to be sent through tcp
INFO -> 2018-01-23 11:09:36,001 app_main.IPS_Link - received PAYMENT REQUEST-> sending ACK
INFO -> 2018-01-23 11:09:36,001 core.tcp.TcpConnectionHandlerActor - sending out ACK to /192.168.0.181:52376 : b
INFO -> 2018-01-23 11:09:36,001 app_main.IPS_Link - setting printing details to terminal with flag: 0
INFO -> 2018-01-23 11:09:36,006 app_main.IPS_Link - starting "PAYMENT" function
INFO -> 2018-01-23 11:09:36,013 core.tcp.TcpClientActor - sent E msg: 000000000E0;
INFO -> 2018-01-23 11:09:36,016 core.tcp.TcpClientActor - setting ackReceived to false in order to wait for ack before next msg is sent
ERROR-> 2018-01-23 11:09:36,018 core.tcp.TcpClientActor - havent received ack for last msg sent so cannot send: 000000000P000000000000000000001                                                                                                                                00000000/
DEBUG-> 2018-01-23 11:09:36,018 core.tcp.TcpClientActor - retrying to send same msg
INFO -> 2018-01-23 11:09:36,111 core.tcp.TcpClientActor - ACK
INFO -> 2018-01-23 11:09:36,115 core.tcp.TcpClientActor - setting ackReceived to TRUE as ACK received 
INFO -> 2018-01-23 11:09:36,117 core.tcp.TcpClientActor - sent Application msg: at cycle: 14590 -> 000000000P000000000000000000001                                                                                                                                00000000/
INFO -> 2018-01-23 11:09:36,219 core.tcp.TcpClientActor - ACK
INFO -> 2018-01-23 11:09:36,219 core.tcp.TcpClientActor - setting ackReceived to TRUE as ACK received 
INFO -> 2018-01-23 11:09:36,379 protocol37.Protocol37ReadWriteHandler - Forwarding Status Message: INSERT CARD         
INFO -> 2018-01-23 11:09:36,380 core.StatusMessageSender - sending status message :$INSERT CARD         $
INFO -> 2018-01-23 11:09:36,380 core.tcp.TcpConnectionHandlerActor - sending out statusMessage to /192.168.0.181:52376
INFO -> 2018-01-23 11:09:37,742 protocol37.Protocol37ReadWriteHandler - Forwarding Status Message: CARD REMOVED        
INFO -> 2018-01-23 11:09:37,742 core.StatusMessageSender - sending status message :$CARD REMOVED        $
INFO -> 2018-01-23 11:09:37,747 core.tcp.TcpConnectionHandlerActor - sending out statusMessage to /192.168.0.181:52376
INFO -> 2018-01-23 11:09:37,760 protocol37.Protocol37ReadWriteHandler - Forwarding Status Message: TRANSACTION CANCELLED
INFO -> 2018-01-23 11:09:37,760 core.StatusMessageSender - sending status message :$TRANSACTION CANCELLED$
INFO -> 2018-01-23 11:09:37,763 core.tcp.TcpConnectionHandlerActor - sending out statusMessage to /192.168.0.181:52376
INFO -> 2018-01-23 11:09:37,872 protocol37.Protocol37ReadWriteHandler - Validating Received message calculating LRC
INFO -> 2018-01-23 11:09:37,874 protocol37.Protocol37ReadWriteHandler - STX ETX FOUND in message
INFO -> 2018-01-23 11:09:37,875 protocol37.Protocol37ReadWriteHandler - Validated -> matched LRC
INFO -> 2018-01-23 11:09:37,875 protocol37.Protocol37ReadWriteHandler - Result: 100000340E01TRANSACTION CANCELLED   00000000000000000000000000000000000607
INFO -> 2018-01-23 11:09:37,876 core.tcp.TcpClientActor - sent ack: z
INFO -> 2018-01-23 11:09:37,876 protocol37.ReceiptGenerator - generating receipt...!
TRACE-> 2018-01-23 11:09:37,878 protocol37.ReceiptGenerator - 10000034;00000001;KO;TRANSACTION UNSUCCESSFUL;03;TRANSACTION CANCELLED   ;
INFO -> 2018-01-23 11:09:37,879 core.tcp.TcpConnectionHandlerActor - sending out FINAL RECEIPT to /192.168.0.181:52376
TRACE-> 2018-01-23 11:09:37,879 core.tcp.TcpConnectionHandlerActor - =============================END---OF---LOG================================
INFO -> 2018-01-23 11:09:37,887 protocol37.ReceiptGenerator - stopping Receipt Generator
TRACE-> 2018-01-23 11:09:37,888 core.StatusMessageSender - Stopping StatusMessageSender Actor
INFO -> 2018-01-23 11:09:37,893 core.tcp.TcpClientActor - Stopping TCP client Actor
INFO -> 2018-01-23 11:09:37,897 app_main.IPS_Link - Stopping IPS_LINK ACTOR
INFO -> 2018-01-23 11:09:42,112 core.tcp.TcpConnectionHandlerActor - received-tcp: {"printFlag":"1","messageCode":"P","amount":"1","terminalIp":"192.168.0.137","statusMessageIp":null,"GTbit":"0","statusMessagePort":null,"terminalPort":"40001","GTmessage":null}
TRACE-> 2018-01-23 11:09:42,116 core.tcp.TcpConnectionHandlerActor - VALIDATION PASSED------> 1
TRACE-> 2018-01-23 11:09:42,116 core.tcp.TcpConnectionHandlerActor - VALIDATION PASSED------> 2
TRACE-> 2018-01-23 11:09:42,117 core.tcp.TcpConnectionHandlerActor - VALIDATION PASSED------> 3
TRACE-> 2018-01-23 11:09:42,117 core.tcp.TcpConnectionHandlerActor - Incoming Json Validated..!
TRACE-> 2018-01-23 11:09:42,118 app_main.IPS_Link - =============================START---OF---LOG================================
DEBUG-> 2018-01-23 11:09:42,118 core.tcp.TcpConnectionHandlerActor - SETTING RECEIVE TIMEOUT OF 95 SEC
INFO -> 2018-01-23 11:09:42,118 app_main.IPS_Link - setting Up Tcp Connection type
INFO -> 2018-01-23 11:09:42,119 core.StatusMessageSender - using same channel for StatusMessages and Receipt
TRACE-> 2018-01-23 11:09:42,120 core.StatusMessageSender - starting StatusMessageSender Actor
INFO -> 2018-01-23 11:09:42,120 protocol37.ReceiptGenerator - starting Receipt Generator
TRACE-> 2018-01-23 11:09:42,120 core.tcp.TcpClientActor - starting TCP Client
INFO -> 2018-01-23 11:09:42,122 core.tcp.TcpClientActor - starting handler
INFO -> 2018-01-23 11:09:42,123 core.tcp.TcpClientActor - Starting TCP client Actor
TRACE-> 2018-01-23 11:09:42,120 app_main.IPS_Link - Starting IPS_LINK ACTOR
INFO -> 2018-01-23 11:09:42,128 core.tcp.TcpClientActor - connected :Connected(/192.168.0.137:40001,/192.168.0.181:52380)
INFO -> 2018-01-23 11:09:42,129 core.tcp.TcpClientActor - ackReceived set to allow first message to be sent through tcp
INFO -> 2018-01-23 11:09:42,625 core.tcp.TcpConnectionHandlerActor - sending out ACK to /192.168.0.181:52376 : b
INFO -> 2018-01-23 11:09:42,625 app_main.IPS_Link - received PAYMENT REQUEST-> sending ACK
INFO -> 2018-01-23 11:09:42,628 app_main.IPS_Link - setting printing details to terminal with flag: 1
INFO -> 2018-01-23 11:09:42,629 core.tcp.TcpClientActor - sent E msg: 000000000E1:
INFO -> 2018-01-23 11:09:42,630 core.tcp.TcpClientActor - setting ackReceived to false in order to wait for ack before next msg is sent
INFO -> 2018-01-23 11:09:42,634 app_main.IPS_Link - starting "PAYMENT" function
ERROR-> 2018-01-23 11:09:42,636 core.tcp.TcpClientActor - havent received ack for last msg sent so cannot send: 000000000P000000000000000000001                                                                                                                                00000000/
DEBUG-> 2018-01-23 11:09:42,637 core.tcp.TcpClientActor - retrying to send same msg
INFO -> 2018-01-23 11:09:42,691 core.tcp.TcpClientActor - ACK
INFO -> 2018-01-23 11:09:42,693 core.tcp.TcpClientActor - setting ackReceived to TRUE as ACK received 
INFO -> 2018-01-23 11:09:42,695 core.tcp.TcpClientActor - sent Application msg: at cycle: 7581 -> 000000000P000000000000000000001                                                                                                                                00000000/
INFO -> 2018-01-23 11:09:42,865 core.tcp.TcpClientActor - ACK
INFO -> 2018-01-23 11:09:42,865 core.tcp.TcpClientActor - setting ackReceived to TRUE as ACK received 
INFO -> 2018-01-23 11:09:42,944 protocol37.Protocol37ReadWriteHandler - Forwarding Status Message: INSERT CARD         
INFO -> 2018-01-23 11:09:42,944 core.StatusMessageSender - sending status message :$INSERT CARD         $
INFO -> 2018-01-23 11:09:42,949 core.tcp.TcpConnectionHandlerActor - sending out statusMessage to /192.168.0.181:52376
INFO -> 2018-01-23 11:09:45,213 protocol37.Protocol37ReadWriteHandler - Forwarding Status Message: CARD REMOVED        
INFO -> 2018-01-23 11:09:45,217 core.StatusMessageSender - sending status message :$CARD REMOVED        $
INFO -> 2018-01-23 11:09:45,219 core.tcp.TcpConnectionHandlerActor - sending out statusMessage to /192.168.0.181:52376
INFO -> 2018-01-23 11:09:45,259 protocol37.Protocol37ReadWriteHandler - Forwarding Status Message: TRANSACTION CANCELLED
INFO -> 2018-01-23 11:09:45,260 core.StatusMessageSender - sending status message :$TRANSACTION CANCELLED$
INFO -> 2018-01-23 11:09:45,260 core.tcp.TcpConnectionHandlerActor - sending out statusMessage to /192.168.0.181:52376
INFO -> 2018-01-23 11:09:45,423 protocol37.Protocol37ReadWriteHandler - Validating Received message calculating LRC
INFO -> 2018-01-23 11:09:45,423 protocol37.Protocol37ReadWriteHandler - STX ETX FOUND in message
INFO -> 2018-01-23 11:09:45,423 protocol37.Protocol37ReadWriteHandler - Validated -> matched LRC
INFO -> 2018-01-23 11:09:45,423 protocol37.Protocol37ReadWriteHandler - Result: 100000340E01TRANSACTION CANCELLED   00000000000000000000000000000000000607
INFO -> 2018-01-23 11:09:45,423 core.tcp.TcpClientActor - sent ack: z
INFO -> 2018-01-23 11:09:45,460 protocol37.Protocol37ReadWriteHandler - Validating Received message calculating LRC
INFO -> 2018-01-23 11:09:45,461 protocol37.Protocol37ReadWriteHandler - STX ETX FOUND in message
INFO -> 2018-01-23 11:09:45,461 protocol37.Protocol37ReadWriteHandler - Validated -> matched LRC
INFO -> 2018-01-23 11:09:45,461 protocol37.Protocol37ReadWriteHandler - Result: 100000340STML             10000034Date 23 / 01 / 18  HR 11STAN 000000                                     ========================  TRANS. NOT COMPLETED  ========================}}
INFO -> 2018-01-23 11:09:45,461 core.tcp.TcpClientActor - sent ack: z
INFO -> 2018-01-23 11:09:45,461 protocol37.ReceiptGenerator - generating receipt...!
TRACE-> 2018-01-23 11:09:45,461 protocol37.ReceiptGenerator - 10000034;00000001;KO;TRANSACTION UNSUCCESSFUL;03;TRANSACTION CANCELLED   ;
TML             10000034
Date 23 / 01 / 18  HR 11
STAN 000000             
                        
========================
  TRANS. NOT COMPLETED  
========================
;
INFO -> 2018-01-23 11:09:45,461 core.tcp.TcpConnectionHandlerActor - sending out FINAL RECEIPT to /192.168.0.181:52376
TRACE-> 2018-01-23 11:09:45,461 core.tcp.TcpConnectionHandlerActor - =============================END---OF---LOG================================
INFO -> 2018-01-23 11:09:45,461 protocol37.ReceiptGenerator - stopping Receipt Generator
TRACE-> 2018-01-23 11:09:45,466 core.StatusMessageSender - Stopping StatusMessageSender Actor
INFO -> 2018-01-23 11:09:45,467 core.tcp.TcpClientActor - Stopping TCP client Actor
INFO -> 2018-01-23 11:09:45,468 app_main.IPS_Link - Stopping IPS_LINK ACTOR
INFO -> 2018-01-23 11:09:48,564 core.tcp.TcpConnectionHandlerActor - received-tcp: {"printFlag":"1","messageCode":"D","amount":null,"terminalIp":"192.168.0.137","statusMessageIp":null,"GTbit":null,"statusMessagePort":null,"terminalPort":"40001","GTmessage":null}
TRACE-> 2018-01-23 11:09:48,567 core.tcp.TcpConnectionHandlerActor - VALIDATION PASSED------> 1
TRACE-> 2018-01-23 11:09:48,568 core.tcp.TcpConnectionHandlerActor - VALIDATION PASSED------> 2
TRACE-> 2018-01-23 11:09:48,569 core.tcp.TcpConnectionHandlerActor - Incoming Json Validated..!
DEBUG-> 2018-01-23 11:09:48,570 core.tcp.TcpConnectionHandlerActor - SETTING RECEIVE TIMEOUT OF 95 SEC
TRACE-> 2018-01-23 11:09:48,572 app_main.IPS_Link - =============================START---OF---LOG================================
INFO -> 2018-01-23 11:09:48,572 app_main.IPS_Link - setting Up Tcp Connection type
TRACE-> 2018-01-23 11:09:48,572 app_main.IPS_Link - Starting IPS_LINK ACTOR
INFO -> 2018-01-23 11:09:48,572 core.StatusMessageSender - using same channel for StatusMessages and Receipt
TRACE-> 2018-01-23 11:09:48,572 core.StatusMessageSender - starting StatusMessageSender Actor
INFO -> 2018-01-23 11:09:48,572 protocol37.ReceiptGenerator - starting Receipt Generator
TRACE-> 2018-01-23 11:09:48,572 core.tcp.TcpClientActor - starting TCP Client
INFO -> 2018-01-23 11:09:48,572 core.tcp.TcpClientActor - starting handler
INFO -> 2018-01-23 11:09:48,575 core.tcp.TcpClientActor - Starting TCP client Actor
INFO -> 2018-01-23 11:09:48,585 core.tcp.TcpClientActor - connected :Connected(/192.168.0.137:40001,/192.168.0.181:52382)
INFO -> 2018-01-23 11:09:48,586 core.tcp.TcpClientActor - ackReceived set to allow first message to be sent through tcp
INFO -> 2018-01-23 11:09:49,077 core.tcp.TcpConnectionHandlerActor - sending out ACK to /192.168.0.181:52376 : b
INFO -> 2018-01-23 11:09:49,085 app_main.IPS_Link - received DLL REQUEST-> sending ACK
INFO -> 2018-01-23 11:09:49,086 app_main.IPS_Link - setting printing details to terminal with flag: 1
INFO -> 2018-01-23 11:09:49,088 core.tcp.TcpClientActor - sent E msg: 000000000E1:
INFO -> 2018-01-23 11:09:49,087 app_main.IPS_Link - Starting "DLL FUNCTION" with flag: 1
INFO -> 2018-01-23 11:09:49,088 core.tcp.TcpClientActor - setting ackReceived to false in order to wait for ack before next msg is sent
ERROR-> 2018-01-23 11:09:49,088 core.tcp.TcpClientActor - havent received ack for last msg sent so cannot send: 000000000D00000010000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
DEBUG-> 2018-01-23 11:09:49,090 core.tcp.TcpClientActor - retrying to send same msg
INFO -> 2018-01-23 11:09:49,189 core.tcp.TcpClientActor - ACK
INFO -> 2018-01-23 11:09:49,189 core.tcp.TcpClientActor - setting ackReceived to TRUE as ACK received 
INFO -> 2018-01-23 11:09:49,190 core.tcp.TcpClientActor - sent Application msg: at cycle: 37797 -> 000000000D00000010000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
INFO -> 2018-01-23 11:09:49,311 core.tcp.TcpClientActor - ACK
INFO -> 2018-01-23 11:09:49,311 core.tcp.TcpClientActor - setting ackReceived to TRUE as ACK received 
INFO -> 2018-01-23 11:09:49,341 protocol37.Protocol37ReadWriteHandler - Forwarding Status Message: OPERATION IN PROGRESS
INFO -> 2018-01-23 11:09:49,342 core.StatusMessageSender - sending status message :$OPERATION IN PROGRESS$
INFO -> 2018-01-23 11:09:49,342 core.tcp.TcpConnectionHandlerActor - sending out statusMessage to /192.168.0.181:52376
INFO -> 2018-01-23 11:09:49,824 protocol37.Protocol37ReadWriteHandler - Forwarding Status Message: AUTH IN PROGRESS    
INFO -> 2018-01-23 11:09:49,825 core.StatusMessageSender - sending status message :$AUTH IN PROGRESS    $
INFO -> 2018-01-23 11:09:49,825 core.tcp.TcpConnectionHandlerActor - sending out statusMessage to /192.168.0.181:52376
INFO -> 2018-01-23 11:10:18,900 protocol37.Protocol37ReadWriteHandler - Validating Received message calculating LRC
INFO -> 2018-01-23 11:10:18,904 core.tcp.TcpClientActor - sent Application msg: at cycle: 0 -> z
INFO -> 2018-01-23 11:10:23,819 protocol37.Protocol37ReadWriteHandler - Validating Received message calculating LRC
INFO -> 2018-01-23 11:10:23,819 protocol37.Protocol37ReadWriteHandler - STX ETX FOUND in message
INFO -> 2018-01-23 11:10:23,822 protocol37.Protocol37ReadWriteHandler - Validated -> matched LRC
INFO -> 2018-01-23 11:10:23,823 protocol37.Protocol37ReadWriteHandler - Result: 100000340D0000000100002202311100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
INFO -> 2018-01-23 11:10:23,824 core.tcp.TcpClientActor - sent ack: z
INFO -> 2018-01-23 11:10:23,910 protocol37.Protocol37ReadWriteHandler - Validating Received message calculating LRC
INFO -> 2018-01-23 11:10:23,912 protocol37.Protocol37ReadWriteHandler - STX ETX FOUND in message
INFO -> 2018-01-23 11:10:23,913 protocol37.Protocol37ReadWriteHandler - Validated -> matched LRC
INFO -> 2018-01-23 11:10:23,913 protocol37.Protocol37ReadWriteHandler - Result: 100000340S     DLL PARAMETERS          Dhanapal TEST               Slough                                 Date 23/01/18 Time 11:10TML 10000034 STAN 000001CAUSA
INFO -> 2018-01-23 11:10:23,918 core.tcp.TcpClientActor - sent ack: z
INFO -> 2018-01-23 11:10:24,010 protocol37.Protocol37ReadWriteHandler - Validating Received message calculating LRC
INFO -> 2018-01-23 11:10:24,010 protocol37.Protocol37ReadWriteHandler - STX ETX FOUND in message
INFO -> 2018-01-23 11:10:24,010 protocol37.Protocol37ReadWriteHandler - Validated -> matched LRC
INFO -> 2018-01-23 11:10:24,010 protocol37.Protocol37ReadWriteHandler - Result: 100000340SL  860 N.OP. 000021Authenticat. -Phase1  OKConferm. Keys-Phase2  OKConferment   PKCA     OKConferment   PAR.TEC  OKConferment   PAR.ACQ  OK           
INFO -> 2018-01-23 11:10:24,010 core.tcp.TcpClientActor - sent ack: z
INFO -> 2018-01-23 11:10:24,109 protocol37.Protocol37ReadWriteHandler - Validating Received message calculating LRC
INFO -> 2018-01-23 11:10:24,109 protocol37.Protocol37ReadWriteHandler - STX ETX FOUND in message
INFO -> 2018-01-23 11:10:24,115 protocol37.Protocol37ReadWriteHandler - Validated -> matched LRC
INFO -> 2018-01-23 11:10:24,116 protocol37.Protocol37ReadWriteHandler - Result: 100000340S                  CARDS HANDLED      Elavon                                            OPERATION SUCCEEDED                                  ATTENTION
INFO -> 2018-01-23 11:10:24,117 core.tcp.TcpClientActor - sent ack: z
INFO -> 2018-01-23 11:10:24,211 protocol37.Protocol37ReadWriteHandler - Validating Received message calculating LRC
INFO -> 2018-01-23 11:10:24,211 protocol37.Protocol37ReadWriteHandler - STX ETX FOUND in message
INFO -> 2018-01-23 11:10:24,211 protocol37.Protocol37ReadWriteHandler - Validated -> matched LRC
INFO -> 2018-01-23 11:10:24,212 protocol37.Protocol37ReadWriteHandler - Result: 100000340S        We inform you that      the following new cards are enabled on your POS                         ========================Elavon                
INFO -> 2018-01-23 11:10:24,212 core.tcp.TcpClientActor - sent ack: z
INFO -> 2018-01-23 11:10:24,312 protocol37.Protocol37ReadWriteHandler - Validating Received message calculating LRC
INFO -> 2018-01-23 11:10:24,312 protocol37.Protocol37ReadWriteHandler - STX ETX FOUND in message
INFO -> 2018-01-23 11:10:24,313 protocol37.Protocol37ReadWriteHandler - Validated -> matched LRC
INFO -> 2018-01-23 11:10:24,313 protocol37.Protocol37ReadWriteHandler - Result: 100000340S  ========================}}
INFO -> 2018-01-23 11:10:24,313 core.tcp.TcpClientActor - sent ack: z
INFO -> 2018-01-23 11:10:24,314 protocol37.ReceiptGenerator - generating receipt...!
TRACE-> 2018-01-23 11:10:24,315 protocol37.ReceiptGenerator - 10000034;OK;Successful;0231110
     DLL PARAMETERS     
     Dhanapal TEST      
         Slough         
                        
Date 23/01/18 Time 11:10
TML 10000034 STAN 000001
CAUSAL  860 N.OP. 000021
Authenticat. -Phase1  OK
Conferm. Keys-Phase2  OK
Conferment   PKCA     OK
Conferment   PAR.TEC  OK
Conferment   PAR.ACQ  OK
                        
     CARDS HANDLED      
Elavon                  
                        
  OPERATION SUCCEEDED   
                        
       ATTENTION        
We inform you that      
the following new cards 
are enabled on your POS 
                        
========================
Elavon                  
========================
;
INFO -> 2018-01-23 11:10:24,316 core.tcp.TcpConnectionHandlerActor - sending out FINAL RECEIPT to /192.168.0.181:52376
TRACE-> 2018-01-23 11:10:24,317 core.tcp.TcpConnectionHandlerActor - =============================END---OF---LOG================================
INFO -> 2018-01-23 11:10:24,322 protocol37.ReceiptGenerator - stopping Receipt Generator
TRACE-> 2018-01-23 11:10:24,323 core.StatusMessageSender - Stopping StatusMessageSender Actor
INFO -> 2018-01-23 11:10:24,323 core.tcp.TcpClientActor - Stopping TCP client Actor
INFO -> 2018-01-23 11:10:24,324 app_main.IPS_Link - Stopping IPS_LINK ACTOR
